#include "sevenSegment.h"

const unsigned int SevSeg::segmentList[7][12] = {
		{
			0, 1, 2,
			1, 2, 5,
			1, 4, 5,
			4, 3, 5
		}, {
			6, 7, 8,
			7, 10, 11,
			7, 8, 11,
			10, 9, 11
		}, {
			12, 13, 14,
			13, 16, 17,
			13, 14, 17,
			16, 17, 15
		}, {
			18, 19, 20,
			22, 19, 20,
			20, 23, 22,
			23, 22, 21
		}, {
			24, 25, 26,
			25, 26, 28,
			28, 29, 26,
			28, 29, 27
		}, {
			30, 31, 32,
			31, 32, 34,
			34, 32, 35,
			33, 34, 35
		}, {
			36, 37, 38,
			38, 41, 37,
			37, 41, 40,
			39, 40, 41
		}
};

const bool SevSeg::encodedSegments[16][7] = {
	//segments 
   //A, B, C, D, E, F, G
	{1, 1, 1, 1, 1, 1, 0},	//0
	{0, 1, 1, 0, 0, 0, 0},	//1
	{1, 1, 0, 1, 1, 0, 1},	//2
	{1, 1, 1, 1, 0, 0, 1},	//...
	{0, 1, 1, 0, 0, 1, 1},
	{1, 0, 1, 1, 0, 1, 1},
	{1, 0, 1, 1, 1, 1, 1},
	{1, 1, 1, 0, 0, 0, 0},
	{1, 1, 1, 1, 1, 1, 1},
	{1, 1, 1, 1, 0, 1, 1},
	{1, 1, 1, 0, 1, 1, 1},	//A
	{0, 0, 1, 1, 1, 1, 1},
	{1, 0, 0, 1, 1, 1, 0},
	{0, 1, 1, 1, 1, 0, 1},
	{1, 0, 0, 1, 1, 1, 1},
	{1, 0, 0, 0, 1, 1, 1},	//F
};

void SevSeg::retIBO(unsigned int* IBO, unsigned int& iboSize, int inNum)
{
	int aux = 0;
	for(int i = 0; i < 7; i++)
	{
		if(encodedSegments[inNum][i])
		{
			for(int j = 0; j < 12; j++, aux++)
			{
				IBO[aux] = segmentList[i][j];
			}
		}
	}

	iboSize = aux;
}
